<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Free Fire Challenge</title>

<style>
:root { --primary:#ffd700; --danger:#ff4500; --bg:#0a0a0a; }
body { background:var(--bg); color:white; font-family:Arial; margin:0; text-align:center; overflow:hidden }
.container { max-width:500px; margin:auto; height:100vh; display:flex; flex-direction:column }
.stats-bar { display:flex; justify-content:space-around; background:#1a1a1a; padding:10px; border-bottom:2px solid var(--primary) }
#puzzle-board { display:grid; grid-template-columns:repeat(3,1fr); gap:4px; width:90vw; height:90vw; max-width:380px; max-height:380px; margin:auto }
.tile { background-repeat:no-repeat; border:1px solid #333; cursor:pointer }
.hidden { display:none }
.selected { border:3px solid #00ff00 }
#next-lvl-btn { padding:15px; margin:10px; font-size:18px; border-radius:30px; border:none }
#next-lvl-btn.active { background:#28a745; color:white }
</style>
</head>

<body>

<div class="container">

<div class="stats-bar">
<div>Lvl: <span id="lvl-num">1</span></div>
<div id="timer-box">02:00</div>
</div>

<div id="preview-screen">
<img id="preview-img" width="85%">
</div>

<div id="game-screen" class="hidden">
<div id="puzzle-board"></div>
<button id="next-lvl-btn" onclick="nextLevel()">NEXT LEVEL</button>
</div>

</div>

<script>
/* ===================== */
/* ðŸ”´ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯ Ù‡Ù†Ø§ */
/* ===================== */

const allImages = [
  // 1 â†’ 8 (Ø§Ù„ØµÙˆØ± Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©)
  "https://i.postimg.cc/rsgsMQTg/unnamed-(18).jpg",
  "https://i.postimg.cc/B6K2ZWwf/unnamed-(13).jpg",
  "https://i.postimg.cc/G345Y96C/unnamed-(12).jpg",
  "https://i.postimg.cc/jdKyTFHB/unnamed-(15).jpg",

  "https://i.postimg.cc/66cDVDpc/unnamed-(10).jpg",
  "https://i.postimg.cc/wMYThnqn/unnamed-(8).jpg",
  "https://i.postimg.cc/gchKmhf8/unnamed-(14).jpg",
  "https://i.postimg.cc/nLcJtprz/unnamed-(20).jpg",

  // 9 â†’ 12 (ØªÙƒØ±Ø§Ø± Ø°ÙƒÙŠ Ù„Ø¥ÙƒÙ…Ø§Ù„ 12 Ù…Ø±Ø­Ù„Ø©)
  "https://i.postimg.cc/rsgsMQTg/unnamed-(18).jpg",
  "https://i.postimg.cc/B6K2ZWwf/unnamed-(13).jpg",
  "https://i.postimg.cc/G345Y96C/unnamed-(12).jpg",
  "https://i.postimg.cc/jdKyTFHB/unnamed-(15).jpg"
];

/* ===================== */
/* Ø¨Ù‚ÙŠØ© Ø§Ù„ÙƒÙˆØ¯ ÙƒÙ…Ø§ Ù‡Ùˆ */
/* ===================== */

let state = { level:0, timeLeft:120, timer:null, firstTile:null };

function initLevel() {
  document.getElementById('lvl-num').innerText = state.level + 1;
  let imgUrl = allImages[state.level % allImages.length];

  const img = new Image();
  img.src = imgUrl;
  img.onload = () => {
    document.getElementById('preview-img').src = imgUrl;
    document.getElementById('game-screen').classList.remove('hidden');
    createBoard(imgUrl);
    startTimer();
  };
}

function startTimer(){
  clearInterval(state.timer);
  state.timeLeft = 120;
  state.timer = setInterval(()=>{
    state.timeLeft--;
    if(state.timeLeft<=0) clearInterval(state.timer);
  },1000);
}

function createBoard(imgUrl){
  const board = document.getElementById('puzzle-board');
  board.innerHTML='';
  let order=[...Array(9).keys()].sort(()=>Math.random()-0.5);

  order.forEach(pos=>{
    const tile=document.createElement('div');
    tile.className='tile';
    tile.style.backgroundImage=`url('${imgUrl}')`;
    tile.style.backgroundSize='300% 300%';
    const x=(pos%3)*100;
    const y=Math.floor(pos/3)*100;
    tile.style.backgroundPosition=`-${x}% -${y}%`;
    tile.dataset.id=pos;
    tile.onclick=()=>swap(tile);
    board.appendChild(tile);
  });
}

function swap(tile){
  if(!state.firstTile){
    state.firstTile=tile;
    tile.classList.add('selected');
    return;
  }
  let a=state.firstTile;
  [a.style.backgroundPosition,tile.style.backgroundPosition]=[tile.style.backgroundPosition,a.style.backgroundPosition];
  [a.dataset.id,tile.dataset.id]=[tile.dataset.id,a.dataset.id];
  a.classList.remove('selected');
  state.firstTile=null;
}

function nextLevel(){
  state.level++;
  initLevel();
}

initLevel();
</script>

</body>
</html>
